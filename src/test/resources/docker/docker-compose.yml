version: '3.3'

services:

  mysql-5.6:
    image: library/mysql:5.6
    ports:
      - "33064:3306"
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: LbRootPass1
      MYSQL_DATABASE: lbcat
      MYSQL_USER: lbuser
      MYSQL_PASSWORD: LiquibasePass1
    volumes:
      - "./mysql-init.sql:/docker-entrypoint-initdb.d/mysql-init.sql"

  mysql-5.7:
    image: library/mysql:5.7
    ports:
      - "33062:3306"
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: LbRootPass1
      MYSQL_DATABASE: lbcat
      MYSQL_USER: lbuser
      MYSQL_PASSWORD: LiquibasePass1
    volumes:
      - "./mysql-init.sql:/docker-entrypoint-initdb.d/mysql-init.sql"

  mysql-8:
    image: mysql:8
    ports:
      - "33061:3306"
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: LbRootPass1
      MYSQL_DATABASE: lbcat
      MYSQL_USER: lbuser
      MYSQL_PASSWORD: LiquibasePass1
    volumes:
    - "./mysql-init.sql:/docker-entrypoint-initdb.d/mysql-init.sql"

  postgres-9.5:
    image: postgres:9
    ports:
      - "5432:5432"
    restart: always
    environment:
      POSTGRES_PASSWORD: LbRootPass1
      POSTGRES_DB: lbcat
    volumes:
      - "./postgres-init.sh:/docker-entrypoint-initdb.d/postgres-init.sh"

  postgres-9:
    image: postgres:9
    ports:
      - "5433:5432"
    restart: always
    environment:
      POSTGRES_PASSWORD: LbRootPass1
      POSTGRES_DB: lbcat
    volumes:
      - "./postgres-init.sh:/docker-entrypoint-initdb.d/postgres-init.sh"

  postgres-10:
    image: postgres:10
    ports:
      - "5434:5432"
    restart: always
    environment:
      POSTGRES_PASSWORD: LbRootPass1
      POSTGRES_DB: lbcat
    volumes:
      - "./postgres-init.sh:/docker-entrypoint-initdb.d/postgres-init.sh"

  postgres-11:
    image: postgres:11
    ports:
      - "5435:5432"
    restart: always
    environment:
      POSTGRES_PASSWORD: LbRootPass1
      POSTGRES_DB: lbcat
    volumes:
      - "./postgres-init.sh:/docker-entrypoint-initdb.d/postgres-init.sh"

  postgres-12:
    image: postgres:12
    ports:
      - "5436:5432"
    restart: always
    environment:
      POSTGRES_PASSWORD: LbRootPass1
      POSTGRES_DB: lbcat
    volumes:
      - "./postgres-init.sh:/docker-entrypoint-initdb.d/postgres-init.sh"

  postgres-13:
    image: postgres:13
    ports:
      - "5437:5432"
    restart: always
    environment:
      POSTGRES_PASSWORD: LbRootPass1
      POSTGRES_DB: lbcat
    volumes:
      - "./postgres-init.sh:/docker-entrypoint-initdb.d/postgres-init.sh"

  mariadb-10.3:
    image: mariadb:10.3
    ports:
      - "33063:3306"
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: LbRootPass1
      MYSQL_DATABASE: lbcat
      MYSQL_USER: lbuser
      MYSQL_PASSWORD: LiquibasePass1
    volumes:
      - "./mariadb-init.sql:/docker-entrypoint-initdb.d/mariadb-init.sql"

  mariadb-10.5:
    image: mariadb:10.5
    ports:
      - "33066:3306"
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: LbRootPass1
      MYSQL_DATABASE: lbcat
      MYSQL_USER: lbuser
      MYSQL_PASSWORD: LiquibasePass1
    volumes:
      - "./mariadb-init.sql:/docker-entrypoint-initdb.d/mariadb-init.sql"

  mssql-2017:
    container_name: sql-server-db
    image: microsoft/mssql-server-linux:2017-latest
    ports:
      - "1433:1433"
    environment:
      SA_PASSWORD: "LiquibasePass1"
      ACCEPT_EULA: "Y"
    volumes:
      - "./mssql-init.sh:/docker-entrypoint-initdb.d/mssql-init.sh"
      - "./mssql-init.sql:/docker-entrypoint-initdb.d/mssql-init.sql"
    entrypoint: /bin/bash /docker-entrypoint-initdb.d/mssql-init.sh

  H2Database-1.4:
    image: buildo/h2database
    restart: always
    ports:
      - "1523:9092"
    volumes:
      - "./H2-init.sql:/docker-entrypoint-initdb.d/test.sql"

#Liquibase hosts private EDB images built for testing purposes in a private Artifactory repo which is login protected. We recommend commenting out the edb sections to prevent errors when you run `docker-compose up`
  edb-9.5:
    image: docker-dev.artifactory.datical.net/datical/datical-enterprisedb-ppas95:latest
    ports:
      - "5501:5444"
    restart: always
    # no environment or volumes as those were created at image creation

  edb-9.6:
    image: docker-dev.artifactory.datical.net/datical/datical-enterprisedb-edbas96:latest
    ports:
      - "5502:5444"
    restart: always
    # no environment or volumes as those were created at image creation

  edb-10:
    image: docker-dev.artifactory.datical.net/datical/datical-enterprisedb-edbas10:latest
    ports:
      - "5503:5444"
    restart: always
    # no environment or volumes as those were created at image creation

  edb-11:
    image: docker-dev.artifactory.datical.net/datical/datical-enterprisedb-edbas11:latest
    ports:
      - "5504:5444"
    restart: always
    # no environment or volumes as those were created at image creation

  edb-12:
    image: docker-dev.artifactory.datical.net/datical/datical-enterprisedb-edbas12:latest
    ports:
      - "5505:5444"
    restart: always
    # no environment or volumes as those were created at image creation

  edb-13:
    image: docker-dev.artifactory.datical.net/datical/datical-enterprisedb-edbas13:latest
    ports:
      - "5506:5444"
    restart: always
    # no environment or volumes as those were created at image creation
