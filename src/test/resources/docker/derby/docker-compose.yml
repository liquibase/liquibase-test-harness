version: '3.3'

services:

  derby-10.15.1.3:
    image: adito/derby:latest
    ports:
    - "1526:1526"
    volumes:
      - "./derby-10.15.1.3-init.sh:/docker-entrypoint-initdb.d/derby-10.15.1.3-init.sh"
      - "./input-for-ij.txt:/docker-entrypoint-initdb.d/input-for-ij.txt"
    command: /bin/bash -c -x "/docker-entrypoint-initdb.d/derby-10.15.1.3-init.sh && /derby/bin/NetworkServerControl start -h 0.0.0.0 -p 1526"

  derby-10.12.1.1:
    image: opavlova/db-derby
    ports:
      - "1527:1527"
    volumes:
      - "./derby-10.12.1.1-init.sh:/docker-entrypoint-initdb.d/derby-10.12.1.1-init.sh"
      - "./input-for-ij.txt:/docker-entrypoint-initdb.d/input-for-ij.txt"
    command: /bin/bash -c -x "/docker-entrypoint-initdb.d/derby-10.12.1.1-init.sh && /db-derby-10.12.1.1-bin/bin/NetworkServerControl start -h 0.0.0.0 -p 1527"
